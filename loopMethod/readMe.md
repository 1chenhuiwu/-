# 轮询
## 什么是轮询
&emsp;&emsp;轮询（Polling）是一种CPU决策如何提供周边设备服务的方式，又称“程控输入输出”（Programmed I/O）。轮询法的概念是：由CPU定时发出询问，依序询问每一个周边设备是否需要其服务，有即给予服务，服务结束后再问下一个周边，接着不断周而复始。 
## 长轮询
&emsp;&emsp;当服务器收到客户端发来的请求后,服务器端不会直接进行响应，而是先将这个请求挂起，然后判断服务器端数据是否有更新。如果有更新，则进行响应，如果一直没有数据，则到达一定的时间限制(服务器端设置)才返回。客户端JavaScript响应处理函数会在处理完服务器返回的信息后，再次发出请求，重新建立连接。

&emsp;&emsp;长轮询和短轮询比起来，明显减少了很多不必要的http请求次数，相比之下节约了资源。长轮询的缺点在于，连接挂起也会导致资源的浪费。
## 应用场景
&emsp;&emsp;公司是做电子合同的，会有对pdf等文件进行解析，文件解析需要时间，前端不能当用户点击解析结果按钮时报提示：未解析完成，关闭本次弹窗再点一下试试！这种交互要是有的话用户会喷死这款产品，所以必须要在没有拿到数据时每隔一段时间请求一下，在没有拿到数据时展示Loading页面，并发送ajax，拿到完整数据不再发送ajax，并将数据渲染出来，所以我们用的轮训，所以我们用的轮询我觉得是类轮询，因为他拿到完整数据后，就不再定时询问你还要不要数据了，代码见上述文件。